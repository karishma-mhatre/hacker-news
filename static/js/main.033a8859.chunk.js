(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{17:function(e,t,r){e.exports=r(36)},22:function(e,t,r){},23:function(e,t,r){},31:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(5),o=r.n(c),i=(r(22),r(23),r(3)),s=r(4),l=r.n(s),u=r(11),p=function(e){return{type:"SORT_ARTICLES",sortOption:e}},f=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hacker-news.firebaseio.com/v0/item/".concat(t,".json?print=pretty"));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t){switch(t){case"Score - Low to High":e.sort((function(e,t){return e.score-t.score}));break;case"Score - High to Low":e.sort((function(e,t){return t.score-e.score}));break;case"Created At - Old to New":e.sort((function(e,t){return e.time-t.time}));break;case"Created At - New to Old":e.sort((function(e,t){return t.time-e.time}))}return e},h=r(2),d={isLoadingArticles:!1,sortOption:"Score - High to Low",articles:[]},E=Object(h.c)({articleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_ARTICLES":return Object(i.a)({},e,{isLoadingArticles:!0});case"RECEIVE_ARTICLES":return Object(i.a)({},e,{isLoadingArticles:!1,articles:m(t.articles,e.sortOption)});case"SEARCH_ARTICLES":var r=t.searchString,a=JSON.parse(localStorage.getItem("articles"));if(r&&""!==r){var n=a.filter((function(e){return e.title.includes(r)}));return Object(i.a)({},e,{articles:n})}return Object(i.a)({},e,{articles:m(a,e.sortOption)});case"SORT_ARTICLES":var c=t.sortOption,o=Object.assign(e.articles);return Object(i.a)({},e,{sortOption:c,articles:m(o,c)});default:return e}}}),v=r(16),O=r(6),b=r(7),g=r(8),w=r(9),S=r(1),j=(r(31),Object(S.b)()((function(e){return n.a.createElement("div",{className:"search-bar"},n.a.createElement("input",{onChange:function(t){t.preventDefault(),e.dispatch({type:"SEARCH_ARTICLES",searchString:t.target.value})},placeholder:"Search articles"}),n.a.createElement("i",{className:"fa fa-search"}))}))),L=(r(32),function(e){var t=e.article,r=t.title,a=t.score,c=t.time;return n.a.createElement("div",{class:"article"},n.a.createElement("div",{className:"article-date"},new Date(1e3*c).toLocaleString()),n.a.createElement("a",{href:t.url,target:"__blank",className:"article-title"},r),n.a.createElement("div",{class:"score"},n.a.createElement("i",{className:"fa fa-heart"}),a))}),A=["Score - Low to High","Score - High to Low","Created At - Old to New","Created At - New to Old"],y=(r(33),function(e){Object(w.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(O.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).sortArticless=function(t){t.preventDefault(),e.props.dispatch(p(t.target.value))},e}return Object(b.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"sort"},n.a.createElement("label",null,"Sort By ",n.a.createElement("i",{className:"fa fa-sort-amount-desc"})),n.a.createElement("div",{className:"select"},n.a.createElement("select",{onChange:this.sortArticless,defaultValue:this.props.sortOption},A.map((function(e){return n.a.createElement("option",{key:e,value:e},e)})))))}}]),r}(n.a.Component)),N=Object(S.b)((function(e){return{sortOption:e.articleList.sortOption}}))(y),C=(r(34),function(e){Object(w.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(O.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).sortArticles=function(t){e.props.dispatch(p(t.target.value))},e}return Object(b.a)(r,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e=Object(u.a)(l.a.mark((function e(t){var r,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_ARTICLES"}),e.next=3,fetch("https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty");case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,n=a.map((function(e){return f(e)})),e.next=10,Promise.all(n);case 10:c=e.sent,localStorage.setItem("articles",JSON.stringify(c)),t({type:"RECEIVE_ARTICLES",articles:c}),console.log(c);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this.props,t=e.isLoading,r=e.articles;return n.a.createElement("div",{className:"article-list"},!t&&n.a.createElement("div",{className:"tool-bar"},n.a.createElement(j,null),n.a.createElement(N,null)),!t&&r?r.map((function(e){return n.a.createElement(L,{key:e.id,article:e})})):n.a.createElement("div",{className:"loader"}))}}]),r}(n.a.Component)),k=Object(S.b)((function(e){return{articles:e.articleList.articles,isLoading:e.articleList.isLoadingArticles,sortOption:e.articleList.sortOption}}))(C),R=(r(35),function(){return n.a.createElement("div",{className:"header"},"Hacker News Top stories")}),_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,T=Object(h.e)(E,_(Object(h.a)(v.a)));var I=function(){return n.a.createElement(S.a,{store:T},n.a.createElement("div",{className:"app"},n.a.createElement(R,null),n.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.033a8859.chunk.js.map